import datetime
import random

from pyecharts import options as opts
from pyecharts.charts import Calendar


begin = datetime.date(2017, 1, 1)
end = datetime.date(2017, 12, 31)
data = [
    [str(begin + datetime.timedelta(days=i)), random.randint(1000, 25000)]
    for i in range((end - begin).days + 1)
]
print(data)
my_data = [['2021-11-10',
            20],
           ['2021-11-11',
            0],
           ['2021-11-12',
            1],
           ['2021-11-13',
            1],
           ['2021-11-14',
            1],
           ['2021-11-15',
            0],
           ['2021-11-16',
            0],
           ['2021-11-17',
            15],
           ['2021-11-18',
            0],
           ['2021-11-19',
            20],
           ['2021-11-20',
            10],
           ['2021-11-21',
            10],
           ['2021-11-22',
            0],
           ['2021-11-23',
            0],
           ['2021-11-24',
            0],
           ['2021-11-25',
            0],
           ['2021-11-26',
            0],
           ['2021-11-27',
            0],
           ['2021-11-28',
            0],
           ['2021-11-29',
            0],
           ['2021-11-30',
            0],
           ['2021-12-01',
            0],
           ['2021-12-02',
            0],
           ['2021-12-03',
            0],
           ['2021-12-04',
            0],
           ['2021-12-05',
            0],
           ['2021-12-06',
            0],
           ['2021-12-07',
            0],
           ['2021-12-08',
            0],
           ['2021-12-09',
            0],
           ['2021-12-10',
            0],
           ['2021-12-11',
            0],
           ['2021-12-12',
            0],
           ['2021-12-13',
            0],
           ['2021-12-14',
            0],
           ['2021-12-15',
            0],
           ['2021-12-16',
            0],
           ['2021-12-17',
            0],
           ['2021-12-18',
            0],
           ['2021-12-19',
            0],
           ['2021-12-20',
            0],
           ['2021-12-21',
            0],
           ['2021-12-22',
            0],
           ['2021-12-23',
            0],
           ['2021-12-24',
            0],
           ['2021-12-25',
            0],
           ['2021-12-26',
            0],
           ['2021-12-27',
            0],
           ['2021-12-28',
            13],
           ['2021-12-29',
            0],
           ['2021-12-30',
            0],
           ['2021-12-31',
            0],
           ['2022-01-01',
            8],
           ['2022-01-02',
            20],
           ['2022-01-03',
            10],
           ['2022-01-04',
            15],
           ['2022-01-05',
            12],
           ['2022-01-06',
            20],
           ['2022-01-07',
            0]]
print(my_data)

(
    Calendar(
        init_opts=opts.InitOpts(
            width="1600px",
            height="1000px")) .add(
                series_name="",
                yaxis_data=my_data,
                calendar_opts=opts.CalendarOpts(
                    pos_top="120",
                    pos_left="30",
                    pos_right="30",
                    range_="2022",
                    yearlabel_opts=opts.CalendarYearLabelOpts(
                        is_show=False),
                ),
    ) .set_global_opts(
        title_opts=opts.TitleOpts(
            pos_top="30",
            pos_left="center",
            title="每日入库情况"),
        visualmap_opts=opts.VisualMapOpts(
            max_=20,
            min_=0,
            orient="horizontal",
            is_piecewise=False),
    ) .render("calendar_heatmap.html"))
